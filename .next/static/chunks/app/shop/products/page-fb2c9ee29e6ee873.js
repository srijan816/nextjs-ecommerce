(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2564],{5345:(e,t,r)=>{Promise.resolve().then(r.bind(r,947))},947:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(5155),a=r(2115),i=r(8173),l=r.n(i),n=r(5565),o=r(2615),c=r(3681),d=r(7334),m=r(9615);let u=[{id:"electronics",name:"Electronics"},{id:"clothing",name:"Clothing"},{id:"home-kitchen",name:"Home & Kitchen"},{id:"beauty",name:"Beauty"},{id:"fitness",name:"Fitness"},{id:"accessories",name:"Accessories"}];function h(){let{products:e}=(0,m.Q)(),[t,r]=(0,a.useState)(e),[i,h]=(0,a.useState)(null),[g,p]=(0,a.useState)([0,300]),[x,f]=(0,a.useState)("featured"),[y,v]=(0,a.useState)(1),[b]=(0,a.useState)(6),{data:j}=(0,o.useSession)(),{addItem:N}=(0,d.x)();(0,a.useEffect)(()=>{r(e)},[e]),(0,a.useEffect)(()=>{let t=[...e];i&&(t=t.filter(e=>e.category===i)),t=t.filter(e=>{let t="string"==typeof e.price?parseFloat(e.price):e.price;return t>=g[0]&&t<=g[1]}),"price-low-to-high"===x?t.sort((e,t)=>("string"==typeof e.price?parseFloat(e.price):e.price)-("string"==typeof t.price?parseFloat(t.price):t.price)):"price-high-to-low"===x&&t.sort((e,t)=>{let r="string"==typeof e.price?parseFloat(e.price):e.price;return("string"==typeof t.price?parseFloat(t.price):t.price)-r}),r(t)},[e,i,g,x]);let w=y*b,S=w-b,I=t.slice(S,w),P=Math.ceil(t.length/b),k=e=>{h(e)},E=e=>{p(e)},C=e=>{v(e)},O=(e,t)=>{e.preventDefault(),N({id:t.id,name:t.name,price:t.price,image:t.image,quantity:1}),alert("Added ".concat(t.name," to cart!"))};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("nav",{className:"mb-8 text-sm",children:(0,s.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/",className:"text-gray-500 hover:text-gray-900",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"text-gray-500",children:"/"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/shop",className:"text-gray-500 hover:text-gray-900",children:"Shop"})}),(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"text-gray-500",children:"/"})}),(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"All Products"})})]})}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,s.jsx)("div",{className:"mb-8 w-full lg:mb-0 lg:w-1/4 lg:pr-8",children:(0,s.jsxs)("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[(0,s.jsx)("h2",{className:"mb-4 text-lg font-medium",children:"Filters"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"mb-2 font-medium",children:"Categories"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"all-categories",type:"radio",name:"category",checked:null===i,onChange:()=>k(null),className:"h-4 w-4 border-gray-300 text-gray-900 focus:ring-gray-500"}),(0,s.jsx)("label",{htmlFor:"all-categories",className:"ml-2 text-sm text-gray-700",children:"All Categories"})]}),u.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"category-".concat(e.id),type:"radio",name:"category",checked:i===e.id,onChange:()=>k(e.id),className:"h-4 w-4 border-gray-300 text-gray-900 focus:ring-gray-500"}),(0,s.jsx)("label",{htmlFor:"category-".concat(e.id),className:"ml-2 text-sm text-gray-700",children:e.name})]},e.id))]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"mb-2 font-medium",children:"Price Range"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:["$",g[0]]}),(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:["$",g[1]]})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"300",step:"10",value:g[1],onChange:e=>E([g[0],parseInt(e.target.value)]),className:"w-full"})]})]}),(0,s.jsx)("button",{onClick:()=>{h(null),p([0,300]),f("featured")},className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Reset Filters"})]})}),(0,s.jsxs)("div",{className:"w-full lg:w-3/4",children:[(0,s.jsxs)("div",{className:"mb-6 flex flex-col items-start justify-between space-y-4 sm:flex-row sm:items-center sm:space-y-0",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",S+1,"-",Math.min(w,t.length)," of ",t.length," products"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by:"}),(0,s.jsxs)("select",{id:"sort",value:x,onChange:e=>{f(e.target.value)},className:"rounded-md border border-gray-300 py-1 pl-3 pr-10 text-sm focus:border-gray-500 focus:outline-none focus:ring-gray-500",children:[(0,s.jsx)("option",{value:"featured",children:"Featured"}),(0,s.jsx)("option",{value:"price-low-high",children:"Price: Low to High"}),(0,s.jsx)("option",{value:"price-high-low",children:"Price: High to Low"}),(0,s.jsx)("option",{value:"name-a-z",children:"Name: A to Z"}),(0,s.jsx)("option",{value:"name-z-a",children:"Name: Z to A"})]})]})]}),0===I.length?(0,s.jsx)("div",{className:"rounded-lg border bg-white p-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No products found matching your criteria."})}):(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:I.map(e=>{var t;return(0,s.jsxs)(l(),{href:"/shop/products/".concat(e.id),className:"group overflow-hidden rounded-lg border bg-white transition-all hover:shadow-md",children:[(0,s.jsxs)("div",{className:"aspect-square w-full relative bg-gray-100",children:[e.image&&(0,s.jsx)(n.default,{src:e.image,alt:e.name,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover"}),(null==j?void 0:null===(t=j.user)||void 0===t?void 0:t.role)===c.X.ADMIN&&(0,s.jsx)("div",{className:"absolute right-2 top-2",children:(0,s.jsx)(l(),{href:"/admin/products/edit/".concat(e.id),onClick:e=>e.stopPropagation(),className:"flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-md hover:bg-gray-100",children:(0,s.jsx)("svg",{className:"h-4 w-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:e.name}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.description}),(0,s.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-lg font-bold",children:["$",e.price.toFixed(2)]}),(0,s.jsx)("button",{onClick:t=>O(t,e),className:"rounded-md bg-gray-900 px-3 py-1.5 text-sm font-medium text-white hover:bg-gray-800",children:"Add to Cart"})]})]})]},e.id)})}),P>1&&(0,s.jsx)("div",{className:"mt-8 flex justify-center",children:(0,s.jsxs)("nav",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>C(Math.max(1,y-1)),disabled:1===y,className:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:P},(e,t)=>t+1).map(e=>(0,s.jsx)("button",{onClick:()=>C(e),className:"rounded-md px-3 py-2 text-sm font-medium ".concat(y===e?"bg-gray-900 text-white":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),children:e},e)),(0,s.jsx)("button",{onClick:()=>C(Math.min(P,y+1)),disabled:y===P,className:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})}},3681:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var s=function(e){return e.USER="USER",e.ADMIN="ADMIN",e}({})},9615:(e,t,r)=>{"use strict";r.d(t,{ProductProvider:()=>n,Q:()=>o});var s=r(5155),a=r(2115);let i=(0,a.createContext)(void 0),l=[{id:"1",name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation",price:199.99,category:"electronics",categoryName:"Electronics",image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&auto=format&fit=crop&q=60",stock:100,isFeatured:!0,isOnSale:!1},{id:"2",name:"Smart Watch",description:"Track your fitness and stay connected",price:249.99,category:"electronics",categoryName:"Electronics",image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&auto=format&fit=crop&q=60",stock:50,isFeatured:!1,isOnSale:!0}];function n(e){let{children:t}=e,[r,n]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("products");e?n(JSON.parse(e)):(n(l),localStorage.setItem("products",JSON.stringify(l)))}catch(e){console.error("Error loading products:",e),n(l)}})()},[]),(0,a.useEffect)(()=>{let e=localStorage.getItem("adminUpdatedProducts");if(e)try{let t=JSON.parse(e),s=[...r];t.forEach(e=>{let t=s.findIndex(t=>t.id===e.id);-1!==t?s[t]=e:s.push(e)}),n(s),localStorage.setItem("products",JSON.stringify(s)),localStorage.removeItem("adminUpdatedProducts")}catch(e){console.error("Error syncing admin products:",e)}},[r]),(0,s.jsx)(i.Provider,{value:{products:r,addProduct:e=>{let t=[...r,e];n(t),localStorage.setItem("products",JSON.stringify(t))},updateProduct:e=>{let t=r.map(t=>t.id===e.id?e:t);n(t),localStorage.setItem("products",JSON.stringify(t))},deleteProduct:e=>{let t=r.filter(t=>t.id!==e);n(t),localStorage.setItem("products",JSON.stringify(t))},getProduct:e=>r.find(t=>t.id===e),refreshProducts:()=>{try{let e=localStorage.getItem("products");e&&n(JSON.parse(e))}catch(e){console.error("Error refreshing products:",e)}}},children:t})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useProducts must be used within a ProductProvider");return e}},7334:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var s=r(9827),a=r(709);let i=(0,s.v)()((0,a.Zr)((e,t)=>({items:[],addItem:r=>{let{items:s}=t();s.find(e=>e.productId===r.productId&&e.variantId===r.variantId)?e({items:s.map(e=>e.productId===r.productId&&e.variantId===r.variantId?{...e,quantity:e.quantity+r.quantity}:e)}):e({items:[...s,r]})},removeItem:r=>{let{items:s}=t();e({items:s.filter(e=>e.id!==r)})},updateQuantity:(r,s)=>{let{items:a}=t();e({items:a.map(e=>e.id===r?{...e,quantity:s}:e)})},clearCart:()=>e({items:[]}),getTotalItems:()=>{let{items:e}=t();return e.reduce((e,t)=>e+t.quantity,0)},getTotalPrice:()=>{let{items:e}=t();return e.reduce((e,t)=>e+t.price*t.quantity,0)}}),{name:"cart-storage"}))},709:(e,t,r)=>{"use strict";r.d(t,{Zr:()=>a});let s=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>s(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},a=(e,t)=>(r,a,i)=>{let l,n={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(s):s(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=new Set,d=new Set,m=n.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...e)},a,i);let u=()=>{let e=n.partialize({...a()});return m.setItem(n.name,{state:e,version:n.version})},h=i.setState;i.setState=(e,t)=>{h(e,t),u()};let g=e((...e)=>{r(...e),u()},a,i);i.getInitialState=()=>g;let p=()=>{var e,t;if(!m)return;o=!1,c.forEach(e=>{var t;return e(null!=(t=a())?t:g)});let i=(null==(t=n.onRehydrateStorage)?void 0:t.call(n,null!=(e=a())?e:g))||void 0;return s(m.getItem.bind(m))(n.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate){let t=n.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,i]=e;if(r(l=n.merge(i,null!=(t=a())?t:g),!0),s)return u()}).then(()=>{null==i||i(l,void 0),l=a(),o=!0,d.forEach(e=>e(l))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{n={...n,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},n.skipHydration||p(),l||g}},9827:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var s=r(2115);let a=e=>{let t;let r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,i={setState:s,getState:a,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(s,a,i);return i},i=e=>e?a(e):a,l=e=>e,n=e=>{let t=i(e),r=e=>(function(e,t=l){let r=s.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},o=e=>e?n(e):n}},e=>{var t=t=>e(e.s=t);e.O(0,[8173,2615,5565,8441,1517,7358],()=>t(5345)),_N_E=e.O()}]);