(()=>{var e={};e.id=1612,e.ids=[1612],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},5486:e=>{"use strict";e.exports=require("bcrypt")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},97789:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>h,routeModule:()=>l,serverHooks:()=>m,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{POST:()=>d});var a=t(42706),i=t(28203),n=t(45994),o=t(39187),u=t(5486),p=t(74069),c=t(50789);async function d(e){try{let r;try{r=await e.json()}catch(e){return console.error("JSON parsing error:",e),o.NextResponse.json({message:"Invalid JSON in request body"},{status:400})}let{name:t,email:s,password:a}=r;if(!t||!s||!a)return o.NextResponse.json({message:"Missing required fields"},{status:400});if(await p.z.user.findUnique({where:{email:s}}))return o.NextResponse.json({message:"User with this email already exists"},{status:409});let i=await (0,u.hash)(a,10),{password:n,...d}=await p.z.user.create({data:{name:t,email:s,password:i,role:c.X.USER}});return o.NextResponse.json({message:"User registered successfully",user:d},{status:201})}catch(e){return console.error("Registration error:",e),o.NextResponse.json({message:"An error occurred during registration"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"/Users/tikaram/Downloads/projects/Cline/ecommerce/src/app/api/auth/register/route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:x,serverHooks:m}=l;function h(){return(0,n.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:x})}},96487:()=>{},78335:()=>{},50789:(e,r,t)=>{"use strict";t.d(r,{X:()=>s});var s=function(e){return e.USER="USER",e.ADMIN="ADMIN",e}({})},74069:(e,r,t)=>{"use strict";t.d(r,{z:()=>a});var s=t(96330);let a=globalThis.prisma??new s.PrismaClient({log:["error"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,5452],()=>t(97789));module.exports=s})();